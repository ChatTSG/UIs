"use strict";var theme={init:function(){this.navCompact(),this.navToggle(),this.sidebarShow(),this.textareaAutoRows(),this.imageZoom(),this.videoPlayer(),this.switchTheme()},navCompact:()=>{const e=document.querySelector(".navigation"),t=document.querySelector(".js-toggle-nav-compact");if(null==e||null==t)return;"is-compact"===localStorage.getItem("buttonState")?e.classList.add("is-compact"):e.classList.remove("is-compact"),t.addEventListener("click",(t=>{e.classList.toggle("is-compact");const o=e.classList.contains("is-compact")?"is-compact":"";localStorage.setItem("buttonState",o),t.preventDefault()}))},navToggle:()=>{const e=document.querySelector(".navigation"),t=document.querySelector(".js-navigation-show"),o=document.querySelector(".nav-close"),c=document.querySelector(".nav-backdrop"),s=window.matchMedia("(min-width: 1200px)");function n(t){t.matches&&e.classList.remove("show")}null!=e&&null!=t&&null!=o&&null!=c&&(t.addEventListener("click",(function(t){e.classList.toggle("show"),t.preventDefault()})),o.addEventListener("click",(function(t){e.classList.remove("show")})),c.addEventListener("click",(function(t){e.classList.remove("show")})),s.addEventListener("change",n),n(s))},sidebarShow:()=>{const e=document.querySelector(".sidebar"),t=document.querySelector(".js-toggle-sidebar");if(null==e||null==t)return;"is-active"===localStorage.getItem("sidebarState")?e.classList.add("is-active"):e.classList.remove("is-active"),t.addEventListener("click",(t=>{e.classList.toggle("is-active");const o=e.classList.contains("is-active")?"is-active":"";localStorage.setItem("sidebarState",o),t.preventDefault()}))},textareaAutoRows:()=>{const e=document.querySelector(".chat-form-control"),t=document.querySelector(".js-toggle-sidebar"),o=document.querySelector(".js-toggle-nav-compact");if(null==e)return;const c=parseInt(e.dataset.minRows)||1,s=parseInt(e.dataset.maxRows)||5;function n(){e.scrollHeight>e.clientHeight&&e.getAttribute("rows")<s&&(e.setAttribute("rows",parseInt(e.getAttribute("rows"))+1),n())}function i(){e.scrollHeight===e.clientHeight&&e.getAttribute("rows")>c&&(e.setAttribute("rows",parseInt(e.getAttribute("rows"))-1),e.scrollHeight>e.clientHeight?n():i())}c<=0&&(c=2),(s<=0||s<c)&&(s=c),e.setAttribute("rows",c),e.addEventListener("input",(()=>{c!==s&&(n(),i())})),window.addEventListener("resize",(()=>{setTimeout((()=>{c!==s&&(n(),i())}),200)})),null!=t&&(t.addEventListener("click",(()=>{c!==s&&(n(),i())})),null!=o&&o.addEventListener("click",(()=>{c!==s&&(n(),i())})))},imageZoom:()=>{mediumZoom("[data-zoomable]",{margin:16,background:"#241636"})},videoPlayer:()=>{Array.from(document.querySelectorAll(".js-player")).map((e=>new Plyr(e)))},switchTheme:()=>{const e=localStorage.getItem("theme"),t=()=>e||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),o=function(){document.documentElement.classList.add("transition-off")},c=function(){setTimeout((function(){document.documentElement.classList.remove("transition-off")}),250)},s=function(e){"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches?(o(),document.documentElement.setAttribute("data-bs-theme","dark"),c()):(o(),document.documentElement.setAttribute("data-bs-theme",e),c())};s(t());const n=e=>{const t=document.querySelector("#switchTheme");null!=t&&("light"==e?(t.checked=!1,t.setAttribute("value","light")):"dark"==e&&(t.checked=!0,t.setAttribute("value","dark")))};n(t()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(()=>{"light"===e&&"dark"===e||s(t())})),window.addEventListener("DOMContentLoaded",(()=>{document.querySelectorAll(".form-switch-theme .form-check-input").forEach((e=>{e.addEventListener("click",(()=>{var t;t=1==e.checked?"dark":"light",localStorage.setItem("theme",t),s(t),n(t)}))}))}))}};theme.init();